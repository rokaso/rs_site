<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Using UE4 Hit Events in Blueprints - Sutkus Audio</title>
  <meta name="description" content="Generating log dropping sounds in UE4 with the blueprint system">
  <meta name="author" content="Rokas Sutkus"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Sutkus Audio",
    
    "url": "https:\/\/sutkusaudio.com"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/sutkusaudio.com"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/sutkusaudio.com",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/sutkusaudio.com\/post\/2022-09-04-ue4-bp-hit-events\/",
          "name": "Using ue4 hit events in blueprints"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Rokas Sutkus"
  },
  "headline": "Using UE4 Hit Events in Blueprints",
  "description" : "Playing sounds on collision events is probably one of the most used event types in game audio. This can be by dropping an item on the ground, wall, table or bashing the item into other objects for example hitting a sword into a rock.\nPreparing the Component In the components tab we add a procedural mesh component by pressing on the Add Component button, scrolling to the rendering section and finding the Procedural Mesh component (or upon pressing just typing the name).",
  "inLanguage" : "en",
  "wordCount":  750 ,
  "datePublished" : "2022-09-04T00:00:00",
  "dateModified" : "2022-09-04T00:00:00",
  "image" : "https:\/\/sutkusaudio.com",
  "keywords" : [ "ue4, unreal engine 4, sfx, VR, blueprints" ],
  "mainEntityOfPage" : "https:\/\/sutkusaudio.com\/post\/2022-09-04-ue4-bp-hit-events\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/sutkusaudio.com",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/sutkusaudio.com",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Using UE4 Hit Events in Blueprints" />
<meta property="og:description" content="Generating log dropping sounds in UE4 with the blueprint system">
<meta property="og:url" content="https://sutkusaudio.com/post/2022-09-04-ue4-bp-hit-events/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Sutkus Audio" />

  <meta name="twitter:title" content="Using UE4 Hit Events in Blueprints" />
  <meta name="twitter:description" content="Generating log dropping sounds in UE4 with the blueprint system">
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@eshkor101" />
  <meta name="twitter:creator" content="@eshkor101" />
  <meta name="generator" content="Hugo 0.98.0" />
  <link rel="alternate" href="https://sutkusaudio.com/index.xml" type="application/rss+xml" title="Sutkus Audio"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://sutkusaudio.com/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://sutkusaudio.com/css/highlight.min.css" /><link rel="stylesheet" href="https://sutkusaudio.com/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">




  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://sutkusaudio.com">Sutkus Audio</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Main" href="/">Main</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/page/about/">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Using UE4 Hit Events in Blueprints</h1>
              
              
              
                
                  <h2 class="post-subheading">Generating log dropping sounds in UE4 with the blueprint system</h2>
                
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on September 4, 2022
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;4&nbsp;minutes
  
  
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Playing sounds on collision events is probably one of the most used event types in game audio. This can be by dropping an item on the ground, wall, table or bashing the item into other objects for example hitting a sword into a rock.</p>
<h3 id="preparing-the-component">Preparing the Component</h3>
<p>In the components tab we add a procedural mesh component by pressing on the <code>Add Component</code> button, scrolling to the rendering section and finding the <code>Procedural Mesh</code> component (or upon pressing just typing the name).
<img src="/img/ue_hit_events/add_component_procedural_mesh.png" alt="add_component_procedural_mesh"></p>
<p>In the details of the <code>Procedural Mesh</code> component of which we created we find the <code>Collision</code> window and on it Collision tab. To make it work for events that we want to use the <code>Simulation Generates Hit Event</code> has to be on. More about his can be found <a href="https://docs.unrealengine.com/5.0/en-US/API/Runtime/Engine/Components/UPrimitiveComponent/OnComponentHit/">On Component Hit</a>.
<img src="/img/ue_hit_events/object_collision.png" alt="object_collision"></p>
<h3 id="the-events">The Events</h3>
<p>To start of in the <code>Procedural Mesh</code> component we scroll down to the event tab and press the <code>+</code> button on <code>On Component Hit</code>. This generates us the start of the event function.
<img src="/img/ue_hit_events/component_hit_event.png" alt="component_hit_event"></p>
<p>And add our sound cue/asset that we want to play when the event is called. As I&rsquo;m working on a scene with wood chopping. I&rsquo;m going to add dropping sounds when the log is dropped on any type of surfaces. 
<img src="/img/ue_hit_events/event_hit_sound_play.png" alt="event_hit_sound_play"></p>
<p>And now we have a problem, for some reason the logs try to play a hundred of samples at the same time. I noticed when testing the functionality of this that sometimes the log that has fallen on the ground is still calling the sound cue. Adding prints with the magnitude of the impulse I found out that even lying on the ground it gave me an impulse of around 30 of the vectors length. While a simple small drop, like 2cm above the ground, had about 290 of the vectors length.</p>
<p>So the logical approach is to add a threshold when the sound should be played and when not. By using a <code>Branch</code> statement and the <code>Vector Magnitude</code> calculator we can check if the magnitude is more than 250 or not. And if it is true we can play the sounds.
<img src="/img/ue_hit_events/event_hit_sound_play_filtered.png" alt="event_hit_sound_play_filtered"></p>
<p>To even go further I started to play with the Log sizes and it&rsquo;s mass. When the size of the log is increased or decreased the mass of it also changes respectively. If in the game an artist or developer will want to make the logs bigger, we&rsquo;ll hit into the same problem that there will be multiple hit events generating. And if the log is going to be smaller then there is a chance that it might not get the events generated. So we will be calculating the magnitude of the impact based on the mass.</p>
<p>I did some testing with the sizes. And when the log is at a scale of 1. The minimum magnitude it generates is about 50 of the vectors length and the maximum is about 250 of the vectors length. So I&rsquo;ll be using these values for calculations.</p>
<p><img src="/img/ue_hit_events/event_hit_with_mass_filtering.png" alt="event_hit_with_mass_filtering"></p>
<p>Here I check if the values are in the range of the wanted magnitude which is multiplied by the mass of the logs. This makes it more easier to generate sounds based on the size. As the value of the mass changes, the algorithms range adapts to it. This is very useful when we are chopping the log with an axe. As each chop makes the log smaller, it&rsquo;s mass gets smaller.</p>
<p>Next up what I wanted to do is to have more responsiveness with the worlds surfaces. I want to have sounds played on different surfaces like wood, ground, metal, water, ect.</p>
<p>First of all we need to define the surface types that are there in the project itself.
Go to Edit -&gt; Project Settings -&gt; Engine -&gt; Physics. Scrolling down there will be a list of <code>Physical Surfaces</code>.</p>
<p><img src="/img/ue_hit_events/physical_surfaces.png" alt="physical_surfaces"></p>
<p>Now we can add the check of the surface upon the hit events. For this we will use <code>Switch on EPhysicalSurface</code>. This allows us to play sounds based on which surface type has been called.</p>
<p><img src="/img/ue_hit_events/switch_on_surfaces.png" alt="switch_on_surfaces"></p>
<p>For now I just want to have a ground sound and a wood sound. Just to see how  it is working.</p>
<p>And here is the result.</p>


<video controls preload="metadata" poster="/img/ue_hit_events/result_video_ue4_event_hits.png">
  
  
  <source src="/img/ue_hit_events/result_video_ue4_event_hits.m4v" type="video/mp4">
</video>
<h3 id="conclusion">Conclusion</h3>
<p>I&rsquo;m very interested to know why the logs are generating multiple calls (and I mean a LOT). As to what I&rsquo;ve understood is this should not be the case. Currently I have no idea why this is, but learning on maybe I&rsquo;ll find what is happening and will be able to fix this issue.</p>


        
          <div class="blog-tags">
            
              <a href="https://sutkusaudio.com/tags/ue4/">ue4</a>&nbsp;
            
              <a href="https://sutkusaudio.com/tags/unreal-engine-4/">unreal engine 4</a>&nbsp;
            
              <a href="https://sutkusaudio.com/tags/sfx/">sfx</a>&nbsp;
            
              <a href="https://sutkusaudio.com/tags/vr/">VR</a>&nbsp;
            
              <a href="https://sutkusaudio.com/tags/blueprints/">blueprints</a>&nbsp;
            
          </div>
        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=https%3a%2f%2fsutkusaudio.com%2fpost%2f2022-09-04-ue4-bp-hit-events%2f&amp;text=Using%20UE4%20Hit%20Events%20in%20Blueprints&amp;via=eshkor101" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsutkusaudio.com%2fpost%2f2022-09-04-ue4-bp-hit-events%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=https%3a%2f%2fsutkusaudio.com%2fpost%2f2022-09-04-ue4-bp-hit-events%2f&amp;title=Using%20UE4%20Hit%20Events%20in%20Blueprints" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fsutkusaudio.com%2fpost%2f2022-09-04-ue4-bp-hit-events%2f&amp;title=Using%20UE4%20Hit%20Events%20in%20Blueprints" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fsutkusaudio.com%2fpost%2f2022-09-04-ue4-bp-hit-events%2f&amp;title=Using%20UE4%20Hit%20Events%20in%20Blueprints" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fsutkusaudio.com%2fpost%2f2022-09-04-ue4-bp-hit-events%2f&amp;description=Using%20UE4%20Hit%20Events%20in%20Blueprints" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

              </div>
            </section>
        

        
          
            
          

          
                  <h4 class="see-also">See also</h4>
                  <ul>
                
                
                    <li><a href="/post/2022-01-12-random-pitching/">Random pitch changing for samples in Unity</a></li>
                
                    <li><a href="/post/2021-10-15-generating-wind-sounds/">Generating wind from a noise sample in a game engine</a></li>
                
                    <li><a href="/post/2021-09-16-vr-neanderthal-tools-sample-pack/">Neanderthal Tools Sample Pack</a></li>
                
                    <li><a href="/post/2021-05-10-neanderthal-tool-sfx/">Recording audio for a VR application concerning Neanderthal legacy</a></li>
                
              </ul>

          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://sutkusaudio.com/post/2022-01-12-random-pitching/" data-toggle="tooltip" data-placement="top" title="Random pitch changing for samples in Unity">&larr; Previous Post</a>
            </li>
          
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:rokas@sutkusaudio.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/eshkor101" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.instagram.com/sutkusaudio" title="Instagram">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="sutkusaudio.com">Rokas Sutkus</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2022
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://sutkusaudio.com">Sutkus Audio</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://sutkusaudio.com/js/main.js"></script>
<script src="https://sutkusaudio.com/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://sutkusaudio.com/js/load-photoswipe.js"></script>









    
  </body>
</html>

